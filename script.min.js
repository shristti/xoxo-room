const SECRET_PASSWORD = "ifoyou";const form = document.getElementById("lockForm");const passwordInput = document.getElementById("passwordInput");const errorBox = document.getElementById("lockError");document.body.classList.add("locked");document.body.classList.remove("unlocked");form.addEventListener("submit",function (e){e.preventDefault();const value = passwordInput.value.trim();if (!value){errorBox.textContent = "whisper something at least ;)";return;}if (value === SECRET_PASSWORD){document.body.classList.remove("locked");document.body.classList.add("unlocked");errorBox.textContent = "";}else {errorBox.textContent = "mmm, thatâ€™s not it. try again, lover.";passwordInput.value = "";}});document.querySelectorAll("nav a[data-scroll]").forEach((link)=> {link.addEventListener("click",(e)=> {e.preventDefault();const target = document.querySelector(link.getAttribute("data-scroll"));if (!target)return;target.scrollIntoView({behavior: "smooth",block: "start" });});});const observer = new IntersectionObserver((entries)=> {entries.forEach((entry)=> {if (entry.isIntersecting){entry.target.classList.add("visible");}});},{threshold: 0.18 });document.querySelectorAll("main section").forEach((section)=> {observer.observe(section);});const postElements = document.querySelectorAll('.post');const modalEl = document.getElementById('modal');if (modalEl){const modalImg = modalEl.querySelector('.modal-image');const modalCaption = modalEl.querySelector('.modal-caption');const prevBtn = modalEl.querySelector('.modal-prev');const nextBtn = modalEl.querySelector('.modal-next');const closeBtn = modalEl.querySelector('.modal-close');let currentImages = [];let currentIndex = 0;postElements.forEach((post)=> {post.addEventListener('click',()=> {const imagesAttr = post.getAttribute('data-images');try {currentImages = JSON.parse(imagesAttr);}catch (e){currentImages = [];}currentIndex = 0;const caption = post.getAttribute('data-caption')|| '';modalCaption.textContent = caption;if (currentImages.length > 0){modalImg.src = currentImages[currentIndex];}modalEl.classList.add('open');});});function showImage(index){if (!currentImages || currentImages.length === 0)return;modalImg.src = currentImages[index];}prevBtn.addEventListener('click',(e)=> {e.stopPropagation();if (!currentImages || currentImages.length === 0)return;currentIndex = (currentIndex - 1 + currentImages.length)% currentImages.length;showImage(currentIndex);});nextBtn.addEventListener('click',(e)=> {e.stopPropagation();if (!currentImages || currentImages.length === 0)return;currentIndex = (currentIndex + 1)% currentImages.length;showImage(currentIndex);});closeBtn.addEventListener('click',(e)=> {e.stopPropagation();modalEl.classList.remove('open');});modalEl.addEventListener('click',(e)=> {if (e.target === modalEl){modalEl.classList.remove('open');}});document.addEventListener('keydown',(e)=> {if (e.key === 'Escape'){modalEl.classList.remove('open');}});}